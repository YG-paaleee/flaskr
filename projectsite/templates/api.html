{% extends "base.html" %}

{% block title %}API Documentation{% endblock %}

{% block content %}
<div class="container">
    <h1>ğŸ“¡ REST API Documentation</h1>
    
    <section class="api-section">
        <h2>ğŸ” Authentication</h2>
        <p>Protected endpoints require JWT authentication. Include the token in the Authorization header:</p>
        <code>Authorization: Bearer &lt;your_token&gt;</code>
        
        <h3>Register</h3>
        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="url">/auth/register</span>
        </div>
        <pre>{
  "username": "your_username",
  "password": "your_password"
}</pre>
        
        <h3>Login</h3>
        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="url">/auth/login</span>
        </div>
        <pre>{
  "username": "your_username",
  "password": "your_password"
}</pre>
        <p><strong>Response:</strong></p>
        <pre>{
  "status": "Success",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "username": "your_username"
}</pre>
    </section>

    <section class="api-section">
        <h2>ğŸ‘¨â€ğŸ“ Students API</h2>
        <table>
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>Description</th>
                    <th>Auth</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/students</td>
                    <td>Get all students</td>
                    <td>âŒ</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/student/&lt;id&gt;</td>
                    <td>Get student by ID</td>
                    <td>âŒ</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/students</td>
                    <td>Create new student</td>
                    <td>âœ…</td>
                </tr>
                <tr>
                    <td><span class="method put">PUT</span></td>
                    <td>/api/student/&lt;id&gt;</td>
                    <td>Update student</td>
                    <td>âœ…</td>
                </tr>
                <tr>
                    <td><span class="method delete">DELETE</span></td>
                    <td>/api/student/&lt;id&gt;</td>
                    <td>Delete student</td>
                    <td>âœ…</td>
                </tr>
            </tbody>
        </table>
        
        <h3>Request Body (POST/PUT):</h3>
        <pre>{
  "student_name": "Juan Dela Cruz",
  "course": "Computer Science",
  "year_level": 3,
  "email": "juan@psu.edu.ph"
}</pre>
    </section>

    <section class="api-section">
        <h2>ğŸ‘¨â€ğŸ« Teachers API</h2>
        <table>
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>Description</th>
                    <th>Auth</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/teachers</td>
                    <td>Get all teachers</td>
                    <td>âŒ</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/teacher/&lt;id&gt;</td>
                    <td>Get teacher by ID</td>
                    <td>âŒ</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/teachers</td>
                    <td>Create new teacher</td>
                    <td>âœ…</td>
                </tr>
                <tr>
                    <td><span class="method put">PUT</span></td>
                    <td>/api/teacher/&lt;id&gt;</td>
                    <td>Update teacher</td>
                    <td>âœ…</td>
                </tr>
                <tr>
                    <td><span class="method delete">DELETE</span></td>
                    <td>/api/teacher/&lt;id&gt;</td>
                    <td>Delete teacher</td>
                    <td>âœ…</td>
                </tr>
            </tbody>
        </table>
        
        <h3>Request Body (POST/PUT):</h3>
        <pre>{
  "teacher_name": "Dr. Baji Lagumbaby",
  "department": "Computer Science",
  "email": "youngGodbaji@psu.edu.ph"
}</pre>
    </section>

    <section class="api-section">
        <h2>ğŸ“Š Grades API</h2>
        <table>
            <thead>
                <tr>
                    <th>Method</th>
                    <th>Endpoint</th>
                    <th>Description</th>
                    <th>Auth</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/grades</td>
                    <td>Get all grades</td>
                    <td>âŒ</td>
                </tr>
                <tr>
                    <td><span class="method get">GET</span></td>
                    <td>/api/grade/&lt;id&gt;</td>
                    <td>Get grade by ID</td>
                    <td>âŒ</td>
                </tr>
                <tr>
                    <td><span class="method post">POST</span></td>
                    <td>/api/grades</td>
                    <td>Create new grade</td>
                    <td>âœ…</td>
                </tr>
                <tr>
                    <td><span class="method put">PUT</span></td>
                    <td>/api/grade/&lt;id&gt;</td>
                    <td>Update grade</td>
                    <td>âœ…</td>
                </tr>
                <tr>
                    <td><span class="method delete">DELETE</span></td>
                    <td>/api/grade/&lt;id&gt;</td>
                    <td>Delete grade</td>
                    <td>âœ…</td>
                </tr>
            </tbody>
        </table>
        
        <h3>Request Body (POST/PUT):</h3>
        <pre>{
  "student_id": 1,
  "subject": "Programming",
  "grade": 1.25,
  "semester": "1st"
}</pre>
    </section>

    <section class="api-section">
        <h2>ğŸ“¤ Output Formats</h2>
        <p>Add <code>?format=xml</code> to get XML output:</p>
        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="url">/api/students?format=xml</span>
        </div>
    </section>

    <section class="api-section">
        <h2>ğŸ” Search & Filter</h2>
        <table>
            <thead>
                <tr>
                    <th>Endpoint</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>/api/students?course=Computer</td>
                    <td>Filter students by course</td>
                </tr>
                <tr>
                    <td>/api/students?name=Juan</td>
                    <td>Search students by name</td>
                </tr>
                <tr>
                    <td>/api/teachers?department=Science</td>
                    <td>Filter teachers by department</td>
                </tr>
                <tr>
                    <td>/api/grades?semester=1st</td>
                    <td>Filter grades by semester</td>
                </tr>
            </tbody>
        </table>
    </section>
</div>

{% endblock %}